<!DOCTYPE html>
<!--[if IE]><![endif]-->
<html>
  
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Generic Nodes </title>
    <meta name="viewport" content="width=device-width">
    <meta name="title" content="Generic Nodes ">
    <meta name="generator" content="docfx 2.49.0.0">
    
    <link rel="shortcut icon" href="../../favicon.ico">
    <link rel="stylesheet" href="../../styles/docfx.vendor.css">
    <link rel="stylesheet" href="../../styles/docfx.css">
    <link rel="stylesheet" href="../../styles/main.css">
    <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet"> 
    <meta property="docfx:navrel" content="../../toc.html">
    <meta property="docfx:tocrel" content="../toc.html">
    
    
    
  </head>  <body data-spy="scroll" data-target="#affix" data-offset="120">
    <div id="wrapper">
      <header>
        
        <nav id="autocollapse" class="navbar navbar-inverse ng-scope" role="navigation">
          <div class="container">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
              
              <a class="navbar-brand" href="../../index.html">
                <img id="logo" class="svg" src="../../logo.svg" alt="">
              </a>
              
              <a href="https://github.com/Wibble199/VisualProgrammer" class="github-ribbon">
                <img width="149" height="149" src="https://github.blog/wp-content/uploads/2008/12/forkme_right_darkblue_121621.png?resize=149%2C149" class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1">
              </a>    </div>
            <div class="collapse navbar-collapse" id="navbar">
              <form class="navbar-form navbar-right" role="search" id="search">
                <div class="form-group">
                  <input type="text" class="form-control" id="search-query" placeholder="Search" autocomplete="off">
                </div>
              </form>
            </div>
          </div>
        </nav>
        
        <div class="subnav navbar navbar-default">
          <div class="container hide-when-search" id="breadcrumb">
            <ul class="breadcrumb">
              <li></li>
            </ul>
          </div>
        </div>
      </header>
      <div role="main" class="container body-content hide-when-search">
        
        <div class="sidenav hide-when-search">
          <a class="btn toc-toggle collapse" data-toggle="collapse" href="#sidetoggle" aria-expanded="false" aria-controls="sidetoggle">Show / Hide Table of Contents</a>
          <div class="sidetoggle collapse" id="sidetoggle">
            <div id="sidetoc"></div>
          </div>
        </div>
        <div class="article row grid-right">
          <div class="col-md-10">
            <article class="content wrap" id="_content" data-uid="">
<h1 id="generic-nodes">Generic Nodes</h1>

<p>VisualProgrammer supports the ability to use generic Nodes. If a generic node is added to the environment, it will appear with one or more dropdown boxes underneath in the toolbox. This allows the user to select from a dropdown which type or types they want.</p>
<div class="NOTE">
<h5>Note</h5>
<p>Currently there is no way of limiting which types can be choosen by the user - I.E. any generic constraints are ignored when presenting the dropdown lists under the node in the toolbox. This is a planned feature and will hopefully be available soon.</p>
</div>
<p>To create a generic node, simply add one or more generic type arguments to the class as you would any other .NET class. This generic argument can be used in expression references, static value properties, variable references or even passed to the base <code>VisualExpression&lt;T&gt;</code> class.</p>
<p>To see an example, lets look at the implementation for the <em>Literal</em> node, which allows users to add an unchanging constant value to the program.</p>
<pre><code class="lang-cs">public sealed class Literal&lt;TValue&gt; : VisualExpression&lt;TValue&gt; {

	[VisualNodeProperty] public TValue Value { get; set; }

	public override Expression CreateExpression(VisualProgram context) =&gt;
		Expression.Constant(Value, typeof(TValue));
}
</code></pre>
<p>This is a generic node which takes a single type parameter which determines the type of value that it can edit. It extends a VisualExpression which returns the type selected by the user. It also has a static value property of the same type. If the user chose &quot;String&quot; as the TValue parameter, this would mean that the resulting node would return a string and also present a string editor on the node itself.</p>
<p>Similarly, the <em>SetVariable</em> node is also a generic node, where the user can select the type of variable they want to set. It then requires a variable reference of this type and an expression of this type. For example if the user chose &quot;Double&quot;, then they would be asked to provide an expression that returns a double and a double variable from the dropdown.</p>
<pre><code class="lang-cs">public sealed class SetVariable&lt;TVar&gt; : VisualStatement {

	[VisualNodeProperty] public VariableReference&lt;TVar&gt; Variable { get; set; }
	[VisualNodeProperty] public ExpressionReference&lt;TVar&gt; Value { get; set; }

	public override Expression CreateExpression(VisualProgram context) =&gt;
		VariableAccessorFactory.CreateSetterExpression(context, Variable, Value.ResolveRequiredExpression(context));
}
</code></pre>
</article>
          </div>
          
          <div class="hidden-sm col-md-2" role="complementary">
            <div class="sideaffix">
              <div class="contribution">
                <ul class="nav">
                  <li>
                    <a href="https://github.com/Wibble199/VisualProgrammer/blob/f8ef031d21c4076529e15639a09e6b905f78410e/Docs/devguide/extension/generic-nodes.md/#L1" class="contribution-link">Improve this Doc</a>
                  </li>
                </ul>
              </div>
              <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix" id="affix">
              <!-- <p><a class="back-to-top" href="#top">Back to top</a><p> -->
              </nav>
            </div>
          </div>
        </div>
      </div>
      
      <footer>
        <div class="grad-bottom"></div>
        <div class="footer">
          <div class="container">
            <span class="pull-right">
              <a href="#top">Back to top</a>
            </span>
            
            <span>Generated by <strong>DocFX</strong></span>
          </div>
        </div>
      </footer>
    </div>
    
    <script type="text/javascript" src="../../styles/docfx.vendor.js"></script>
    <script type="text/javascript" src="../../styles/docfx.js"></script>
    <script type="text/javascript" src="../../styles/main.js"></script>
  </body>
</html>
